# bank_operations
Программа выводит нужное кол-во последних совершенных (выполненных) операций клиента

# Документация программы

## Описание

Эта программа предназначена для обработки и форматирования банковских операций, загруженных из JSON-файла. Она включает функции для загрузки данных, фильтрации, сортировки по дате и маскирования номеров карт и счетов.

## Функции

### `load_operations(file_path)`

Загружает операции из указанного файла JSON.

#### Параметры

- `file_path` (строка): Путь к файлу с операциями в формате JSON.

#### Возвращаемое значение

- Список операций (список словарей) из файла JSON, если загрузка прошла успешно.
- `None`, если возникла ошибка при загрузке.

### `is_executed(op)`

Проверяет, выполнена ли операция.

#### Параметры

- `op` (словарь): Операция.

#### Возвращаемое значение

- `True`, если операция выполнена (атрибут `state` равен "EXECUTED").
- `False` в противном случае.

### `filter_executed_operations(operations)`

Фильтрует операции, оставляя только выполненные.

#### Параметры

- `operations` (список словарей): Список операций для фильтрации.

#### Возвращаемое значение

- Генератор выполненных операций.

### `sort_operations_by_date(operations)`

Сортирует операции по дате в порядке убывания.

#### Параметры

- `operations` (список словарей): Список операций для сортировки.

#### Возвращаемое значение

- Список отсортированных операций.

### `mask_card(card_info)`

Маскирует номер карты, показывая только первые 6 и последние 4 цифры.

#### Параметры

- `card_info` (строка): Информация о карте.

#### Возвращаемое значение

- Маскированная строка с номером карты.

### `mask_account(account_info)`

Маскирует номер счета, показывая только последние 4 цифры.

#### Параметры

- `account_info` (строка): Информация о счете.

#### Возвращаемое значение

- Маскированная строка с номером счета.

### `format_date(date_str)`

Форматирует дату из строки в формат ДД.ММ.ГГГГ.

#### Параметры

- `date_str` (строка): Строка с датой в формате ISO.

#### Возвращаемое значение

- Строка с датой в формате ДД.ММ.ГГГГ.

### `is_card_number(number)`

Проверяет, является ли строка номером карты.

#### Параметры

- `number` (строка): Номер карты.

#### Возвращаемое значение

- `True`, если строка является номером карты (имеет длину 16 символов).
- `False` в противном случае.

### `is_account_number(number)`

Проверяет, является ли строка номером счета.

#### Параметры

- `number` (строка): Номер счета.

#### Возвращаемое значение

- `True`, если строка является номером счета (имеет длину 20 символов).
- `False` в противном случае.

### `mask_account_or_card(info)`

Маскирует номер счета или карты в зависимости от его длины.

#### Параметры

- `info` (строка): Информация о счете или карте.

#### Возвращаемое значение

- Маскированная строка с номером счета или карты.

### `format_operation(operation)`

Форматирует операцию в строку для вывода.

#### Параметры

- `operation` (словарь): Операция.

#### Возвращаемое значение

- Отформатированная строка с информацией об операции или сообщение об ошибке.

### `main(file_path)`

Основная функция программы для загрузки, фильтрации, сортировки и вывода операций.

#### Параметры

- `file_path` (строка): Путь к файлу с операциями в формате JSON.

#### Возвращаемое значение

- Нет возвращаемого значения. Ошибки выводятся на экран.



# Документация тестов программы

## Описание

Эта документация описывает тесты для функций программы обработки банковских операций. Включены тесты на загрузку данных, проверку выполненных операций, фильтрацию, сортировку, маскирование номеров карт и счетов, форматирование дат и операций.

## Тесты

### `test_load_operations_file_not_found`

Тест проверяет обработку ситуации при отсутствии файла.

#### Ожидаемое поведение

- `None`, если файл не найден.

### `test_load_operations_json_decode_error`

Тест проверяет обработку ошибки при некорректном формате JSON.

#### Ожидаемое поведение

- `None`, если файл имеет невалидный JSON формат.

### `test_is_executed_true`

Тест проверяет функцию, определяющую выполнена ли операция.

#### Ожидаемое поведение

- `True`, если операция выполнена.

### `test_is_executed_false`

Тест проверяет функцию, определяющую выполнена ли операция.

#### Ожидаемое поведение

- `False`, если операция не выполнена.

### `test_filter_executed_operations`

Тест проверяет фильтрацию операций, оставляя только выполненные.

#### Ожидаемое поведение

- Список выполненных операций.

### `test_sort_operations_by_date`

Тест проверяет сортировку операций по дате в порядке убывания.

#### Ожидаемое поведение

- Список операций, отсортированный по убыванию даты.

### `test_mask_card`

Тест проверяет маскировку номера карты.

#### Ожидаемое поведение

- Маскированная строка с номером карты.

### `test_format_date`

Тест проверяет форматирование даты.

#### Ожидаемое поведение

- Строка с отформатированной датой.

### `test_is_card_number_true`

Тест проверяет функцию проверки номера карты.

#### Ожидаемое поведение

- `True`, если строка является номером карты.

### `test_is_card_number_false`

Тест проверяет функцию проверки номера карты.

#### Ожидаемое поведение

- `False`, если строка не является номером карты.

### `test_is_account_number_true`

Тест проверяет функцию проверки номера счета.

#### Ожидаемое поведение

- `True`, если строка является номером счета.

### `test_mask_account_or_card_card`

Тест проверяет маскировку номера счета или карты.

#### Ожидаемое поведение

- Маскированная строка с номером счета или карты.

### `test_mask_account_or_card_invalid_number`

Тест проверяет обработку ошибки при маскировке некорректного номера.

#### Ожидаемое поведение

- Сообщение об ошибке при маскировке номера.

### `test_format_operation`

Тест проверяет форматирование операции для вывода.

#### Ожидаемое поведение

- Отформатированная строка с информацией об операции.